(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{18:function(e,t,n){e.exports=n(41)},23:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),l=n.n(c),u=(n(23),n(3)),s=Object(a.createContext)(),i=function(e){var t=e.children,n=Object(a.useState)(11),c=Object(u.a)(n,2),l=c[0],i=c[1],o=Object(a.useState)(10),m=Object(u.a)(o,2),E=m[0],f=m[1];return r.a.createElement(s.Provider,{value:{numberOfQuestions:E,setNumberOfQuestions:f,category:l,setCategory:i}},t)},o=n(1),m=function(e,t){switch(t.type){case"RESET_GAME":return t.payload;case"START_COUNTDOWN":return Object(o.a)(Object(o.a)({},e),{},{counter:3});case"TIMER_RESET":return Object(o.a)(Object(o.a)({},e),{},{timer:e.timer_interval,timeElapsed:0});case"TIMER_TICK":return Object(o.a)(Object(o.a)({},e),{},{timer:e.timer-1,timeElapsed:e.timeElapsed+1});case"TIMER_PLUSTEN":return Object(o.a)(Object(o.a)({},e),{},{timer:e.timer+10,plusTen:e.current});case"USE_FIFTYFIFTY":return Object(o.a)(Object(o.a)({},e),{},{fiftyFifty:e.current});case"COUNT_DOWN":return Object(o.a)(Object(o.a)({},e),{},{counter:e.counter-1});case"NEXT_QUESTION":return Object(o.a)(Object(o.a)({},e),{},{current:e.current+1});case"ANSWER_QUESTION":var n=t.payload.correct?1:0,a=t.payload.incorrect?1:0,r=t.payload.unanswered?1:0;return Object(o.a)(Object(o.a)({},e),{},{correct:e.correct+n,incorrect:e.incorrect+a,unanswered:e.unanswered+r,fastestTime:e.timeElapsed<e.fastestTime?e.timeElapsed:e.fastestTime,current:e.current+1,totalTime:e.totalTime+e.timeElapsed,timer:e.timer_interval,timeElapsed:0,questions:e.questions.map((function(n,a){return a===e.current&&(n.stats=t.payload),n}))});case"SET_QUESTIONS":return Object(o.a)(Object(o.a)({},e),{},{questions:t.payload});default:return e}},E=Object(a.createContext)(),f={counter:0,timer:15,timeElapsed:0,fastestTime:15,timer_interval:15,current:0,fiftyFifty:-1,plusTen:-1,questions:[],correct:0,incorrect:0,unanswered:0,totalTime:0},d=function(e){var t=e.children,n=Object(a.useReducer)(m,f),c=Object(u.a)(n,2),l=c[0],s=c[1];return r.a.createElement(E.Provider,{value:Object(o.a)(Object(o.a)({},l),{},{dispatch:s,resetGame:function(){s({type:"RESET_GAME",payload:f})}})},t)},b=n(17),p=n.n(b),v=document.createElement("span");function O(e){return e.replace(/&[#A-Za-z0-9]+;/gi,(function(e,t,n){return v.innerHTML=e,v.innerHTML}))}var j=function(e){return e.map((function(e){return e.question=O(e.question),e.correct_answer=O(e.correct_answer),e.incorrect_answers=e.incorrect_answers.map((function(e){return O(e)})),e}))},h=function(){var e=Object(a.useContext)(E).dispatch,t=Object(a.useContext)(s),n=t.category,c=t.numberOfQuestions;return r.a.createElement("button",{onClick:function(){!function(e){var t=e.numberOfQuestions,n=e.category,a=e.success,r=e.fail,c="https://opentdb.com/api.php?amount="+t+"&category="+n+"&type=multiple";p.a.get(c,{crossdomain:!0}).then((function(e){200===e.status?e.data.results&&Array.isArray(e.data.results)?a(e.data.results):r(new Error("Incorrect response from server")):r(new Error("Unknown error"))})).catch((function(e){r(e)}))}({category:n,numberOfQuestions:c,success:function(t){e({type:"SET_QUESTIONS",payload:j(t)})},fail:function(e){console.log("SPACETAG: StartButton.js",e)}}),e({type:"START_COUNTDOWN"})},className:"StartButton button"},"Start Quiz")},T=function(){var e=Object(a.useContext)(s),t=e.numberOfQuestions,n=e.setNumberOfQuestions;return r.a.createElement("div",{className:"NumberOfQuestionsPicker"},r.a.createElement("label",{for:"number-of-questions-picker"},"Number of Questions:"),r.a.createElement("select",{id:"number-of-questions-picker",value:t,onChange:function(e){n(e.target.value)}},r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"15"},"15")))},y=function(){var e=Object(a.useContext)(s),t=e.category,n=e.setCategory;return r.a.createElement("div",{className:"CategoryPicker"},r.a.createElement("label",{for:"category-picker"},"Category:"),r.a.createElement("select",{id:"category-picker",onChange:function(e){n(e.target.value)},value:t},r.a.createElement("option",{value:"10"},"Books"),r.a.createElement("option",{value:"11"},"Movies")))},N=function(){return r.a.createElement("div",{className:"Start"},r.a.createElement("div",{className:"intro"},"Welcome to QuizMaster, the most amazing quiz game ever"),r.a.createElement(y,null),r.a.createElement(T,null),r.a.createElement(h,null))},g=function(){var e=Object(a.useContext)(E),t=e.counter,n=e.dispatch,c=Object(a.useRef)();return Object(a.useEffect)((function(){return c.current=setInterval((function(){n({type:"COUNT_DOWN"})}),300),function(){clearInterval(c.current)}}),[n]),r.a.createElement("div",{className:"CountDown"},3===t&&r.a.createElement("div",null,"Ready..."),2===t&&r.a.createElement("div",null,"Set..."),1===t&&r.a.createElement("div",null,"Go!"),r.a.createElement("div",{className:"counter"},t))},C=function(){var e=Object(a.useContext)(E).timer;return r.a.createElement("div",{className:"GameTimer"},r.a.createElement("label",null,"Time left: "),r.a.createElement("span",{className:"clock"+(e<=5?" blink":"")},"\xa000:",e.toString().padStart(2,"0")," "))},S=function(){var e=Object(a.useContext)(E),t=e.current,n=e.questions;return r.a.createElement("div",{className:"GameNumber"},r.a.createElement("label",null,"Question:"),r.a.createElement("span",null,t+1,"/",n.length))},w=function(){return r.a.createElement("div",{className:"GameHeader"},r.a.createElement(S,null),r.a.createElement(C,null))},_=n(6),x=function(e){var t=e.text,n=e.fifties,c=Object(a.useContext)(E),l=c.questions,u=c.current,s=c.fiftyFifty,i=c.dispatch;return r.a.createElement("button",{disabled:s===u&&-1!==n.indexOf(t),onClick:function(){var e=t===l[u].correct_answer;i({type:"ANSWER_QUESTION",payload:{correct:e,incorrect:!e}})},className:"AnswerButton"},t)},I=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}},Q=function(e){var t=e.text,n=Object(a.useContext)(E).resetGame;return r.a.createElement("button",{onClick:n,className:"ResetButton button"},t)},k=function(){var e=Object(a.useContext)(E),t=e.questions,n=e.current,c=e.timer,l=e.dispatch,s=e.plusTen,i=e.timer_interval,o=Object(a.useState)(""),m=Object(u.a)(o,2),f=m[0],d=m[1],b=Object(a.useState)([]),p=Object(u.a)(b,2),v=p[0],O=p[1],j=Object(a.useState)([]),h=Object(u.a)(j,2),T=h[0],y=h[1],N=Object(a.useRef)();return Object(a.useEffect)((function(){return N.current=setInterval((function(){l({type:"TIMER_TICK"})}),1e3),function(){clearInterval(N.current)}}),[l]),Object(a.useEffect)((function(){n!==t.length&&function(e){var a=Math.floor(3*Math.random()),r=t[n],c=[].concat(Object(_.a)(r.incorrect_answers),[r.correct_answer]);I(c);var l=Object(_.a)(r.incorrect_answers);l.splice(a,1),y(l),d(r.question),O(c)}()}),[n,t,l]),Object(a.useEffect)((function(){0===c&&l({type:"ANSWER_QUESTION",payload:{unanswered:!0,timeElapsed:i-c}})}),[c,l,n,s,i]),r.a.createElement("div",{className:"GameMain"},r.a.createElement(Q,{text:"Quit"}),r.a.createElement("div",{className:"Question"},f),r.a.createElement("div",{className:"Answers"},v.map((function(e,t){return r.a.createElement(x,{key:"a"+t,text:e,fifties:T})}))))},q=function(){var e=Object(a.useContext)(E),t=e.plusTen,n=e.dispatch;return r.a.createElement("button",{disabled:-1!==t,className:"PlusTenButton",onClick:function(){n({type:"TIMER_PLUSTEN"})}},"+10s")},R=function(){var e=Object(a.useContext)(E),t=e.fiftyFifty,n=e.dispatch;return r.a.createElement("button",{disabled:-1!==t,className:"FiftyFiftyButton",onClick:function(){n({type:"USE_FIFTYFIFTY"})}},"50/50")},M=function(){return r.a.createElement("div",{className:"LifeLines"},r.a.createElement(q,null),r.a.createElement("div",{className:"lifeline-title raised"},"Lifelines"),r.a.createElement(R,null))},F=function(){return r.a.createElement("div",{className:"Hr"})},A=function(){return r.a.createElement("div",{className:"Game"},r.a.createElement(w,null),r.a.createElement(F,null),r.a.createElement(k,null),r.a.createElement(F,null),r.a.createElement(M,null))},U=function(){var e=Object(a.useContext)(E),t=e.questions,n=e.fiftyFifty,c=e.plusTen,l=e.correct,s=e.incorrect,i=e.totalTime,o=e.unanswered,m=e.fastestTime,f=Object(a.useState)(0),d=Object(u.a)(f,2),b=d[0],p=d[1],v=Object(a.useState)([]),O=Object(u.a)(v,2),j=O[0],h=O[1];return Object(a.useEffect)((function(){var e=i/t.length*10;p(Math.round(e)/10);var a=[];-1!==n&&a.push("50/50"),-1!==c&&a.push("+10s"),h(a)}),[n,c,t,i]),r.a.createElement("div",{className:"Statistics"},r.a.createElement("h2",null,"Statistics"),r.a.createElement("div",null,r.a.createElement("label",null,"Correct answers:"),r.a.createElement("span",null,l)),r.a.createElement("div",null,r.a.createElement("label",null,"Incorrect answers:"),r.a.createElement("span",null,s)),r.a.createElement("div",null,r.a.createElement("label",null,"Unanswered questions:"),r.a.createElement("span",null,o)),r.a.createElement("div",null,r.a.createElement("label",null,"Average time:"),r.a.createElement("span",null,b," s")),r.a.createElement("div",null,r.a.createElement("label",null,"Fastest time:"),r.a.createElement("span",null,m," s")),r.a.createElement("div",null,r.a.createElement("label",null,"LifeLines used:"),r.a.createElement("span",null,j.length?j.join(" and "):"None!")),r.a.createElement(Q,{text:"Restart QuizMaster"}))},G=function(){var e=Object(a.useContext)(E),t=e.counter,n=e.questions,c=e.current;return r.a.createElement("main",null,t>0&&r.a.createElement(g,null),0===t&&0===n.length&&r.a.createElement(N,null),0===t&&n.length>0&&n.length>c&&r.a.createElement(A,null),0===t&&n.length>0&&n.length===c&&r.a.createElement(U,null))},W=function(){var e=Object(a.useContext)(E),t=e.counter,n=e.questions;return 0===t&&0===n.length&&r.a.createElement("header",null,r.a.createElement("h1",{className:"raised"},"Quiz",r.a.createElement("wbr",null),"Master"),r.a.createElement(F,null))},z=function(){var e=Object(a.useContext)(E),t=e.counter,n=e.questions;return 0===t&&0===n.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null),r.a.createElement("footer",null,r.a.createElement("div",null,"Powered by ",r.a.createElement("a",{href:"https://reactjs.org/"},"React")),r.a.createElement("div",null,"Questions from ",r.a.createElement("a",{href:"https://opentdb.com/"},"Open Trivia Database")),r.a.createElement("div",null,"Coded by ",r.a.createElement("a",{href:"https://www.linkedin.com/in/jonas-earendel/"},"Jonas Earendel"))))};var B=function(){return r.a.createElement(i,null,r.a.createElement(d,null,r.a.createElement("div",{className:"App"},r.a.createElement(W,null),r.a.createElement(G,null),r.a.createElement(z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.14e262b4.chunk.js.map